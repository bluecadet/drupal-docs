<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../assets/style.css?t=615badd5">
    <link rel="stylesheet" href="../main.css?t=734caa58">
    <script src="../assets/script.js?t=36f3d457"></script>
    <script src="../scripts.js?t=56b80ffb"></script>
    <title>Installation - Drupal Docs</title>
    <meta name="viewport" content="width=device-width">
  </head>
  <body class="-menu-visible">
    <div class="doc-layout">
      <div class="toggle menu-toggle js-menu-toggle"></div>
      <div class="menu toc-menu">
        <li class="menu-item -level-0 -parent">
          <ul class="submenu">
            <li class="menu-item -level-1"><a class="link title  link-index" href="../index.html">Drupal Docs</a>
            </li>
            <li class="menu-item -level-1 -parent"><a class="link title  link-d7" href="../d7/index.html">D7</a>
              <ul class="submenu">
                <li class="menu-item -level-2"><a class="link title  link-d7install" href="../d7/install.html">Installation</a>
                </li>
              </ul>
            </li>
            <li class="menu-item -level-1 -parent"><a class="link title  link-d8" href="../d8/index.html">D8</a>
              <ul class="submenu">
                <li class="menu-item -level-2"><a class="link title -active link-d8install" href="../d8/install.html">Installation</a>
                  <ul class="headings heading-list">
                    <li class="heading-item -depth-2"><a class="hlink link-on-pantheon" href="#on-pantheon">On Pantheon</a>
                      <ul class="heading-list -depth-2">
                        <li class="heading-item -depth-3"><a class="hlink link-traditional-()" href="#traditional-()">Traditional (?)</a>
                        </li>
                        <li class="heading-item -depth-3"><a class="hlink link-composer-workflowcontinuous-integration." href="#composer-workflowcontinuous-integration.">Composer Workflow/Continuous integration.</a>
                        </li>
                      </ul>
                    </li>
                    <li class="heading-item -depth-2"><a class="hlink link-setting-up-local-environment" href="#setting-up-local-environment">Setting Up local environment</a>
                      <ul class="heading-list -depth-2">
                        <li class="heading-item -depth-3"><a class="hlink link-traditional" href="#traditional">Traditional</a>
                        </li>
                        <li class="heading-item -depth-3"><a class="hlink link-with-lando" href="#with-lando">With Lando</a>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-d8custom-modules" href="../d8/custom-modules.html">Custom Modules/Themes</a>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-d8custom-module-examples" href="../d8/custom-module-examples.html">Custom Module/Theme Examples</a>
                </li>
                <li class="menu-item -level-2 -parent"><span class="title">Recipes</span>
                  <ul class="submenu">
                    <li class="menu-item -level-3"><a class="link title  link-d8media" href="../d8/media.html">Media Entity Setup</a>
                    </li>
                    <li class="menu-item -level-3"><span class="title">[NEED PAGE] WYSIWYG Setup</span>
                    </li>
                    <li class="menu-item -level-3"><a class="link title  link-d8recipesckeditor" href="../d8/recipes/ckeditor.html">CKEditor Plugins</a>
                    </li>
                    <li class="menu-item -level-3"><a class="link title  link-d8recipesparagraphs" href="../d8/recipes/paragraphs.html">Paragraphs</a>
                    </li>
                    <li class="menu-item -level-3"><a class="link title  link-d8recipesstates" href="../d8/recipes/states.html">#States</a>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <li class="menu-item -level-1 -parent"><a class="link title  link-pantheon" href="../pantheon/index.html">Pantheon</a>
              <ul class="submenu">
                <li class="menu-item -level-2"><a class="link title  link-pantheonquicksilver" href="../pantheon/quicksilver.html">Quicksilver</a>
                </li>
              </ul>
            </li>
            <li class="menu-item -level-1"><span class="title">Composer workflow</span>
            </li>
            <li class="menu-item -level-1"><a class="link title  link-pms" href="../pms.html">What PM's Need to know</a>
            </li>
            <li class="menu-item -level-1 -parent"><span class="title">Custom Modules/Repos</span>
              <ul class="submenu">
                <li class="menu-item -level-2"><a class="link title  link-create-custom-repos" href="../create-custom-repos.html">How to Create Custom Managed Modules</a>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-use-custom-repos" href="../use-custom-repos.html">How to Use Custom Managed Modules</a>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-manage-custom-repos" href="../manage-custom-repos.html">How to Manage Custom Modules</a>
                </li>
              </ul>
            </li>
            <li class="menu-item -level-1"><span class="title">[NEED PAGE] Drupal vs Wordpress</span>
            </li>
            <li class="menu-item -level-1"><span class="title">[NEED PAGE] For Clients</span>
            </li>
            <li class="menu-item -level-1"><span class="title">Other stuff we want to talk about...</span>
            </li>
          </ul>
        </li>
      </div>
      <div class="body page-d8install">
        <div class="header-nav">
          <div class="right"><a class="iconlink" href="https://github.com/bluecadet/drupal-docs" data-title="bluecadet/drupal-docs">
              <!-- span.title Open in GitHub--><span class="icon -github"></span></a>
          </div>
        </div>
        <div class="markdown-body"><h1 id="how-to:-d8-installation">HOW TO: D8 Installation</h1>
<h2 id="on-pantheon">On Pantheon</h2>
<h3 id="traditional-()">Traditional (?)</h3>
<h3 id="composer-workflowcontinuous-integration.">Composer Workflow/Continuous integration.</h3>
<p>This method allows for a full composer workflow, and the ability to add continuos integration tools to your project workflow.</p>
<p>Details pulled from: <a href="https://pantheon.io/docs/guides/build-tools/">https://pantheon.io/docs/guides/build-tools/</a></p>
<ol>
<li>Create a Github personal access token</li>
<li>Create CircleCI personal API token</li>
<li>Run terminus command:
<br><code>terminus build-env:create-project --team=&quot;Bluecadet&quot; --org=&quot;bluecadet&quot; [PROJECT NAME]</code>
make sure to include team and org, otherwise projects will be saved to your personal accounts</li>
<li>The site is now ready to be worked on</li>
<li>Add team members to Pantheon account</li>
<li>Add team members to github repo</li>
<li>[Optionally: Setup TEST and LIVE environments on pantheon. Sometimes we wait to do this until a later stage]</li>
<li>Setup backups for the site. If this is a sandbox (unpaid) site, you will need to do this through a terminus command [LINK]</li>
</ol>
<hr>
<h2 id="setting-up-local-environment">Setting Up local environment</h2>
<h3 id="traditional">Traditional</h3>
<ol>
<li>Clone repo <code>git clone git@github.com:bluecadet/mann-web.git [DIR]</code>
obviously change out dir and path...</li>
<li>Run <code>composer install</code></li>
<li>Setup DB</li>
<li>Create DB export in Pantheon</li>
<li>Create local DB</li>
<li>Import DB from Pantheon</li>
<li>Setup any local permissions for MySQL if you have any</li>
<li>Find Hash Salt from Pantheon
Run <code>terminus drush &lt;site&gt;.&lt;env&gt; -- ev &apos;return getenv(&quot;DRUPAL_HASH_SALT&quot;)&apos;</code></li>
<li>Copy <code>/web/sites/example.settings.local.php</code> to <code>/web/sites/default/settings.local.php</code></li>
<li>Add DB info around line 17</li>
</ol>
<pre><code>$databases[&apos;default&apos;][&apos;default&apos;] = array (
  &apos;database&apos; =&gt; &apos;[DB-name]&apos;,
  &apos;username&apos; =&gt; &apos;[DB-username]&apos;,
  &apos;password&apos; =&gt; &apos;[DB-userpassword]&apos;,
  &apos;prefix&apos; =&gt; &apos;&apos;,
  &apos;host&apos; =&gt; &apos;localhost&apos;,
  &apos;port&apos; =&gt; &apos;3306&apos;,
  &apos;namespace&apos; =&gt; &apos;Drupal\\Core\\Database\\Driver\\mysql&apos;,
  &apos;driver&apos; =&gt; &apos;mysql&apos;,
);
</code></pre>
<ol>
<li>Add hash_salt from above to end of file. Should look something like:</li>
</ol>
<pre><code>$settings[&apos;hash_salt&apos;] = &apos;X/ZoCz4bINpIQq1xufoInrULRDtN0UABMUW7m09HcCY=&apos;;
</code></pre>
<ol>
<li>Setup local settings for domain name or however you have it setup</li>
<li>Add trusted local host patterns for your local development</li>
</ol>
<pre><code>$settings[&apos;trusted_host_patterns&apos;][] = &apos;^.+.localhost.com$&apos;;
$settings[&apos;trusted_host_patterns&apos;][] = &apos;^localhost.com$&apos;;
</code></pre>
<ol>
<li>Try it out!</li>
</ol>
<h3 id="with-lando">With Lando</h3>
<p>If you do not already have lando installed, visit <a href="https://docs.devwithlando.io/installation/installing.html">https://docs.devwithlando.io/installation/installing.html</a></p>
<ol>
<li>Clone repo <code>git clone git@github.com:bluecadet/[INSERT-REPO-NAME].git [DIR]</code></li>
<li>In terminal, <code>cd</code> into the project directory and run <code>lando init</code></li>
<li>Select <code>Pantheon</code> as the recipie, and select your Pantheon account. Select the site from the list.</li>
<li>You may need to add a machine token if you are not logged in. Add the token with <code>lando terminus auth:login --machine-token=[YOUR_MACHINE_TOKEN]</code>.
<ol>
<li>Info to create tokens can be found <a href="https://pantheon.io/docs/machine-tokens/">here</a></li>
</ol>
</li>
<li>Run <code>lando start</code></li>
<li>Run <code>lando pull</code>.</li>
<li>You can pull code from the <code>dev</code> enviornment to make sure you are up to date (or none).</li>
<li>Pull the database from <code>dev</code></li>
<li>Optionally pull files from <code>dev</code> (or select none)</li>
</ol>
<h4 id="get-a-local-url">Get a local url</h4>
<p>Run <code>lando info</code>. In the resulting json, your local urls can be found at:</p>
<pre><code>{
  ...
  &quot;edge&quot;:
    ...
    &quot;urls&quot;:
      &quot;http://localhost:32801&quot;,
      &quot;http://yoursitename.lndo.site&quot;,
      &quot;https://yoursitename.lndo.site&quot;
}
</code></pre>
<p>Visit one of these urls and make sure everything is working as expected.</p>
<h4 id="notes:">Notes:</h4>
<p>When using Lando, all <code>terminus</code> commands should be prepended with <code>lando</code>, i.e:</p>
<pre><code>lando terminus drush cim
</code></pre>

        </div>
        <div class="footer-nav">
          <div class="left"><a href="../d8/index.html"><span class="title">D8</span></a></div>
          <div class="right"><a href="../d8/custom-modules.html"><span class="label">Next: </span><span class="title">Custom Modules/Themes</span></a></div>
        </div>
      </div>
    </div>
  </body>
</html>